# always use forward slashes in paths
[DEFAULT]
n_cpus=auto
main_dir=P:/Synchronize/IWS/QGIS_Neckar
sep=;

[HYD_ANSYS]
show_ansys_stdout=False
hyd_ansys_runtype=before
calc_for_cats_only=True
max_cell_move=10
strm_strt_thresh=1000
out_pre_proc_dir=${main_dir}/raster/taudem_out_horb
in_gage_shp_loc=${main_dir}/vector/neckar_horb_Mar_2018.shp

#out_pre_proc_dir=${main_dir}/raster/taudem_out_neckar_20180624
#in_gage_shp_loc=${main_dir}/vector/neckar_46_stns_20180624.shp

in_dem_loc=${main_dir}/raster/lower_de_gauss_z3_100m_neckar_clip.tif

[GET_STMS]
out_dem_net_shp_file=${HYD_ANSYS:out_pre_proc_dir}/dem_net_cat_streams_only.shp
gauge_coords_field_name=id
dem_net_file=${HYD_ANSYS:out_pre_proc_dir}/dem_net_relationships.csv
out_wat_ids_file=${HYD_ANSYS:out_pre_proc_dir}/watersheds_id_modif.txt

[CREATE_STM_RELS]
# prcss_cats_list is cat nos seperated by commas
prcss_cats_list=411
hyd_mod_dir=${main_dir}/test_brute_05
cats_prcssed_file=${hyd_mod_dir}/cats_prcssed_df.csv
stms_prcssed_file=${hyd_mod_dir}/stms_prcssed_df.csv
watershed_field_name=DN
out_cats_rel_fig_path=${hyd_mod_dir}/cats_stms_relationship.png

[CUMM_CATS]
out_cumm_cat_shp=${HYD_ANSYS:out_pre_proc_dir}/watersheds_cumm.shp
out_cumm_cat_descrip_file=${HYD_ANSYS:out_pre_proc_dir}/watersheds_cumm_cat_areas.csv

[OPT_HYD_MODEL]

# always in cumecs
obs_q_file=${main_dir}/hydmod/input_hyd_data/neckar_daily_discharge_1961_2015.csv

ppt_file=${main_dir}/hydmod/input_hyd_data/ppt_edk_1961_to_2015_daily_2km_horb.pkl
temp_file=${main_dir}/hydmod/input_hyd_data/temp_edk_1961_to_2015_daily_2km_horb.pkl
pet_file=${main_dir}/hydmod/input_hyd_data/pet_edk_1961_to_2015_daily_2km_horb.pkl
cell_vars_file=${main_dir}/hydmod/input_hyd_data/ppt_edk_1961_to_2015_daily_2km_horb_cell_idxs.pkl

#ppt_file=${main_dir}/hydmod/input_hyd_data/ppt_edk_1961_to_2015_daily_2km_all.pkl
#temp_file=${main_dir}/hydmod/input_hyd_data/temp_edk_1961_to_2015_daily_2km_all.pkl
#pet_file=${main_dir}/hydmod/input_hyd_data/pet_edk_1961_to_2015_daily_2km_all.pkl
#cell_vars_file=${main_dir}/hydmod/input_hyd_data/ppt_edk_1961_to_2015_daily_2km_all_cell_idxs.pkl

time_freq=D
warm_up_steps=365
water_bal_step_size=730

time_fmt=%Y-%m-%d %H:%M:%S

sim_dates=1961-06-01;1971-12-31

#calibration and validation time
calib_dates=2005-06-01;2015-12-31
valid_dates=1961-06-01;1971-12-31

route_type=0

kfolds=1

compare_ann_cyc_flag=True
use_obs_flow_flag=False

min_q_thresh=1e-4

obj_ftn_wts=1.0;1.0;0.0

run_as_lump_flag=True

use_resampled_obj_ftns_flag=False
discharge_resampling_freq=W

[PARAM_BOUNDS]
tt=-1.0;1.0
cm=0.01;4.0
pcm=0.0;2.0
fc_pwp=1;700.0
beta=1e-5;7.0
ur_thr=0.0;100.0
k_uu=1e-5;0.7
k_ul=1e-5;0.6
k_d=1e-5;0.3
k_ll=1e-5;0.15
exp=0.01;10.0
musk_lag=1e-4;1.0
musk_wt=1e-4;0.3

[PLOT_OPT_RES]
plot_full_sim_flag=True
plot_wat_bal_flag=True

# for parameter evolution
plot_evo_obj_flag=True
plot_evo_png_flag=True
plot_evo_gif_flag=False
evo_anim_secs=5

err_var_labs=temperature

[TEST_MODEL]
test_params_loc=''

[OPT_SCHM_VARS]
# opt_schm can be ROPE or DE
opt_schm=BRUTE

# basic optimization related variables
max_iters=150
max_cont_iters=${max_iters}
obj_ftn_tol=1e-8
n_prm_vecs_exp=3.5

# DE related variables
mu_sc_fac_bds=0.01;0.5
cr_cnst_bds=0.7;1.0
prm_pcnt_tol=0.01

# ROPE related variables
# percentage NS accepted
acc_rate=0.15
n_uvecs_exp=3.5
n_rope_prm_vecs_exp=4.5
max_chull_tries=20
depth_ftn_type=2
min_pts_in_chull=10

# Brute-Force related parameters
n_discretize=4

[PRM_FLAGS]
# one column for every variables used in optimization
# col 1: lumped parameter for all cells
# col 2: land use / land cover classes
# col 3: soil type classes
# col 4: aspect
# col 5: slope
# col 6: slope and aspect combined
tt=		1;0;0;0;0;0
cm=		1;0;0;0;0;0
pcm=	1;0;0;0;0;0
fc_pwp= 1;0;0;0;0;0
beta=	1;0;0;0;0;0
ur_thr=	1;0;0;0;0;0
k_uu=	1;0;0;0;0;0
k_ul=	1;0;0;0;0;0
k_d=	1;0;0;0;0;0
k_ll=	1;0;0;0;0;0
